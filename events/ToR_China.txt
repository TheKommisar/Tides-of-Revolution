# Chinese Events
# created by: dax0102

add_namespace = china

# Chiang's Decision
country_event = {
    id = china.1
    title = china.1.t
    desc = china.1.d
    picture = GFX_report_event_china_chiang_kai_shek

    is_triggered_only = yes

    option = {
        name = china.1.a
        hidden_effect = {
            set_country_flag = CHI_CHOSEN_UNIFICATION
        }
    }

    option = {
        name = china.1.b
        hidden_effect = {
            set_country_flag = CHI_CHOSEN_SURVIVAL
        }
    }
}

# Foreign Economic Partnership
country_event = {
    id = china.2
    title = china.2.t
    desc = china.2.d
    picture = GFX_report_event_generic_sign_treaty2

    is_triggered_only = yes

    option = {
        name = china.2.a
        CHI = {
            country_event = china.3
        }
    }

    option = {
        name = china.2.b
        CHI = {
            country_event = china.4
        }
    }
}

# Economic Partnership Agreed
country_event = {
    id = china.3
    title = china.3.t
    desc = china.3.d
    picture = GFX_report_event_generic_sign_treaty2

    is_triggered_only = yes

    option = {
        name = china.3.a
        hidden_effect = {
            if = {
                limit = {
                    FROM = { tag = ENG }
                }
                set_country_flag = CHI_ENG_ECONOMIC_PARTNERSHIP
                add_ideas = CHI_sino_british_economic_partnership
            }

            if = {
                limit = {
                    FROM = { tag = GER }
                }
                set_country_flag = CHI_GER_ECONOMIC_PARTNERSHIP
                add_ideas = CHI_sino_german_economic_partnership
            }
        }
    }
}

# Economic Partnership Declined
country_event = {
    id = china.4
    title = china.4.t
    desc = china.4.d
    picture = GFX_report_event_generic_sign_treaty2

    is_triggered_only = yes

    option = {
        name = china.4.a
    }
}

# Demand Shandong / Shanxi / Yunnan
country_event = {
    id = china.5
    title = china.5.t
    desc = china.5.d
    picture = GFX_report_event_japanese_soldiers_02

    is_triggered_only = yes

    option = {
        name = china.5.a
        custom_effects_tooltip = CHI_warlord_annexed_tt
        hidden_effect = {
            CHI = { country_event = china.6 }
        }
    } 

    option = {
        name = china.5.b
        CHI = { country_event = china.7 }
    }
}

# Warlord Accepts
country_event = {
    id = china.6
    title = china.6.t
    desc = china.6.d
    picture = GFX_report_event_japanese_soldiers_02

    is_triggered_only = yes

    option = {
        name = china.6.a
        annex_country = {
            target = FROM
            transfer_troops = no
        }

        if = {
            limit = {
                FROM = { tag = SHX }
            }

            create_corps_commander = {
                name = "Yan Xishan"
                picture_path = "gfx/leaders/SHX/Portrait_Shanxi_Yan_Xishan.tga"
                traits = {  }
                skill = 3
                attack_skill = 2
                defense_skill = 2
                planning_skill = 4
                logistics_skill = 3
            }
        }

        if = {
            limit = {
                FROM = { tag = YUN }
            }

            create_corps_commander = {
                name = "Long Yun"
                picture_path = "gfx/leaders/YUN/Portrait_Yunnan_Long_Yun.tga"
                traits = {}
                skill = 2
                attack_skill = 2
                defense_skill = 1
                planning_skill = 1
                logistics_tech = 3
            }
        }
    }
}

# Warlord Declines
country_event = {
    id = china.7
    title = china.7.t
    desc = china.7.d
    picture = GFX_report_event_japanese_soldiers_02

    is_triggered_only = yes

    option = {
        name = china.7.a
        FROM = { 
            activate_targeted_decision = {
                target = THIS
                decision = CHI_attack_warlord
            }
            set_country_flag = CHI_ATTACK_WARLORD
        }
    }
}

# Appeal to London/Berlin
country_event = {
    id = china.8
    title = china.8.t
    desc = china.8.d
    picture = GFX_report_event_generic_read_write

    is_triggered_only = yes

    option = {
        name = china.8.a

        CHI = { country_event = china.9 }
    }

    option = {
        name = china.8.b

        CHI = { country_event = china.10 }
    }
}

# British/German Accepts
country_event = {
    id = china.9
    title = china.9.t
    desc = china.9.d
    picture = GFX_report_event_generic_read_write

    is_triggered_only = yes

    option = {
        name = china.9.a

        if = {
            limit = {
                FROM = { tag = ENG }
            }
            add_equipment_to_stockpile = {
                type = infantry_equipment_1
                amount = 5000
            } 
            add_equipment_to_stockpile = {
                type = support_equipment_1
                amount = 1000
            }
        }

        if = {
            limit = {
                FROM = { tag = GER }
            }
            add_equipment_to_stockpile = {
                type = artillery_equipment_1
                amount = 1000
            }
            add_equipment_to_stockpile = {
                type = light_tank_equipment_1
                amount = 1000
            }
        }
    }
}

# British/German Rejects
country_event = {
    id = china.10
    title = china.10.t
    desc = china.10.d
    picture = GFX_report_event_generic_read_write

    is_triggered_only = yes

    option = {
        name = china.10.a
    }
}

# Invitation to the United Front
country_event = {
    id = china.11
    title = china.11.t
    desc = china.11.d
    picture = GFX_report_event_chinese_japanese_handshake

    is_triggered_only = yes

    option = {
        name = china.11.a
        CHI = { country_event = china.12 }
    }

    option = {
        name = china.11.b
        CHI = { country_event = china.13 }
    }
}

# Invitation Accepted
country_event = {
    id = china.12
    title = china.12.t
    desc = china.12.d
    picture = GFX_report_event_chinese_japanese_handshake

    is_triggered_only = yes

    option = {
        name = china.12.a

        if = {
            limit = { is_faction_leader = yes }
            add_to_faction = FROM
        }
    }
}

# Invitation Rejected
country_event = {
    id = china.13
    title = china.13.t
    desc = china.13.d
    picture = GFX_report_event_chinese_japanese_handshake

    is_triggered_only = yes

    option = {
        name = china.13.a
        create_wargoal = {
            type = puppet_wargoal_focus
            target = FROM
        }
    }

    option = {
        name = china.13.b
        add_political_power = -25
    }
}